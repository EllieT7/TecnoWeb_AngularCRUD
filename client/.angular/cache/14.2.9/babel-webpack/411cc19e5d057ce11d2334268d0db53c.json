{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/products.service\";\nimport * as i2 from \"@angular/common\";\n\nfunction AlbumCarouselComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11);\n    i0.ɵɵelement(2, \"img\", 12);\n    i0.ɵɵelementStart(3, \"div\", 13);\n    i0.ɵɵtext(4, \"Sale\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 14);\n    i0.ɵɵelement(6, \"i\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"ul\")(8, \"li\", 16)(9, \"a\", 4);\n    i0.ɵɵelement(10, \"i\", 17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"li\", 18)(12, \"a\", 4);\n    i0.ɵɵtext(13, \"+ Quick View\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"li\", 19)(15, \"a\", 4);\n    i0.ɵɵelement(16, \"i\", 20);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(17, \"div\", 21)(18, \"div\", 22);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"a\", 4)(21, \"h5\");\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"div\", 23);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const album_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", \"http://localhost:3000/\" + album_r1.img, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(17);\n    i0.ɵɵtextInterpolate(album_r1.id_artista);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(album_r1.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", album_r1.precio, \" \");\n  }\n}\n\nexport class AlbumCarouselComponent {\n  constructor(productService) {\n    this.productService = productService; // @HostBinding('class') classes = 'product-slider owl-carousel';\n\n    this.albums = [];\n  }\n\n  ngOnInit() {\n    this.getAlbums();\n\n    for (let i = 0; i < this.albums.length; i++) {\n      if (this.albums[i].tipo_producto_id_tp != 1) {\n        this.albums.splice(i, 1);\n      }\n    }\n\n    this.loadScript('owl-carousel', 'assets/js/owl.carousel.min.js').then(data => {\n      console.log('script loaded ', data);\n    }).catch(error => console.log(error));\n  }\n\n  getAlbums() {\n    this.productService.getProducts().subscribe(res => {\n      this.albums = res;\n    }, err => console.error(err));\n  }\n\n  loadScript(id, url) {\n    return new Promise((resolve, reject) => {\n      if (id && document.getElementById(id)) {\n        resolve({\n          id: id,\n          loaded: true,\n          status: 'Already Loaded'\n        });\n      }\n\n      let body = document.body;\n      let script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.innerHTML = '';\n      script.src = url;\n      script.id = id;\n\n      script.onload = () => {\n        resolve({\n          id: id,\n          loaded: true,\n          status: 'Loaded'\n        });\n      };\n\n      script.onerror = error => resolve({\n        id: id,\n        loaded: false,\n        status: 'Loaded'\n      });\n\n      script.async = true;\n      script.defer = true;\n      body.appendChild(script);\n    });\n  }\n\n  removeScript(id) {\n    let script = document.getElementById(id);\n\n    if (script) {\n      script.remove();\n    }\n  }\n\n}\n\nAlbumCarouselComponent.ɵfac = function AlbumCarouselComponent_Factory(t) {\n  return new (t || AlbumCarouselComponent)(i0.ɵɵdirectiveInject(i1.ProductsService));\n};\n\nAlbumCarouselComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AlbumCarouselComponent,\n  selectors: [[\"app-album-carousel\"]],\n  decls: 15,\n  vars: 1,\n  consts: [[1, \"container-fluid\"], [1, \"row\"], [1, \"col-lg-3\"], [\"data-setbg\", \"assets/img/albums.png\", 1, \"product-large\", \"set-bg\"], [\"href\", \"#\"], [1, \"col-lg-8\", \"offset-lg-1\"], [1, \"filter-control\"], [1, \"active\"], [1, \"product-slider\", \"owl-carousel\"], [\"class\", \"product-item\", \"style\", \"width: 200px;\", 4, \"ngFor\", \"ngForOf\"], [1, \"product-item\", 2, \"width\", \"200px\"], [1, \"pi-pic\"], [\"alt\", \"\", 3, \"src\"], [1, \"sale\"], [1, \"icon\"], [1, \"icon_heart_alt\"], [1, \"w-icon\", \"active\"], [1, \"icon_bag_alt\"], [1, \"quick-view\"], [1, \"w-icon\"], [1, \"fa\", \"fa-random\"], [1, \"pi-text\"], [1, \"catagory-name\"], [1, \"product-price\"]],\n  template: function AlbumCarouselComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h2\");\n      i0.ɵɵtext(5, \"Albums\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"a\", 4);\n      i0.ɵɵtext(7, \"Descubrir m\\u00E1s\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(8, \"div\", 5)(9, \"div\", 6)(10, \"ul\")(11, \"li\", 7);\n      i0.ɵɵtext(12, \"Albums recientes\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(13, \"div\", 8);\n      i0.ɵɵtemplate(14, AlbumCarouselComponent_div_14_Template, 25, 4, \"div\", 9);\n      i0.ɵɵelementEnd()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngForOf\", ctx.albums);\n    }\n  },\n  dependencies: [i2.NgForOf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhbGJ1bS1jYXJvdXNlbC5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","AlbumCarouselComponent","constructor","productService","ngOnInit","getAlbums","i","albums","length","tipo_producto_id_tp","splice","loadScript","then","data","console","log","catch","error","getProducts","subscribe","res","err","id","url","Promise","resolve","reject","document","getElementById","loaded","status","body","script","createElement","type","innerHTML","src","onload","onerror","async","defer","appendChild","removeScript","remove","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["E:\\Documents\\TecnoWeb\\angular_mysql\\client\\src\\app\\components\\album-carousel\\album-carousel.component.html","E:\\Documents\\TecnoWeb\\angular_mysql\\client\\src\\app\\components\\album-carousel\\album-carousel.component.ts"],"sourcesContent":["<!-- Js Plugins -->\n<script src=\"assets/js/jquery-3.3.1.min.js\"></script>\n<script src=\"assets/js/bootstrap.min.js\"></script>\n<script src=\"assets/js/jquery-ui.min.js\"></script>\n<script src=\"assets/js/jquery.countdown.min.js\"></script>\n<script src=\"assets/js/jquery.nice-select.min.js\"></script>\n<script src=\"assets/js/jquery.zoom.min.js\"></script>\n<script src=\"assets/js/jquery.dd.min.js\"></script>\n<script src=\"assets/js/jquery.slicknav.js\"></script>\n<script src=\"assets/js/owl.carousel.min.js\"></script>\n<script src=\"assets/js/main.js\"></script>\n\n<div class=\"container-fluid\">\n    <div class=\"row\">\n        <div class=\"col-lg-3\">\n            <div class=\"product-large set-bg\" data-setbg=\"assets/img/albums.png\">\n                <h2>Albums</h2>\n                <a href=\"#\">Descubrir más</a>\n            </div>\n        </div>\n<div class=\"col-lg-8 offset-lg-1\">\n    <div class=\"filter-control\">\n        <ul>\n            <li class=\"active\">Albums recientes</li>\n        </ul>\n    </div>\n    <div class=\"product-slider owl-carousel\">\n        <div *ngFor=\"let album of albums\" class=\"product-item\" style=\"width: 200px;\">\n            <div class=\"pi-pic\">\n                <img [src]=\"'http://localhost:3000/'+album.img\" alt=\"\" />\n                <div class=\"sale\">Sale</div>\n                <div class=\"icon\">\n                    <i class=\"icon_heart_alt\"></i>\n                </div>\n                <ul>\n                    <li class=\"w-icon active\"><a href=\"#\"><i class=\"icon_bag_alt\"></i></a></li>\n                    <li class=\"quick-view\"><a href=\"#\">+ Quick View</a></li>\n                    <li class=\"w-icon\"><a href=\"#\"><i class=\"fa fa-random\"></i></a></li>\n                </ul>\n            </div>\n            <div class=\"pi-text\">\n                <div class=\"catagory-name\">{{album.id_artista}}</div>\n                <a href=\"#\">\n                    <h5>{{album.nombre}}</h5>\n                </a>\n                <div class=\"product-price\">\n                    {{album.precio}}\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n</div>\n</div>\n\n","import { HostBinding, ViewEncapsulation } from '@angular/core';\nimport { Component, OnInit } from '@angular/core';\nimport { ProductsService } from 'src/app/services/products.service';\n\n\n@Component({\n  selector: 'app-album-carousel',\n  templateUrl: './album-carousel.component.html',\n  styleUrls: ['./album-carousel.component.css'],\n  // encapsulation: ViewEncapsulation.None,\n})\nexport class AlbumCarouselComponent implements OnInit {\n  // @HostBinding('class') classes = 'product-slider owl-carousel';\n  albums : any = [];\n  constructor(private productService: ProductsService) { }\n\n  ngOnInit(): void {\n    this.getAlbums();\n    for(let i = 0; i < this.albums.length; i++){\n      if(this.albums[i].tipo_producto_id_tp!=1){\n        this.albums.splice(i,1);\n      }\n    }\n    this.loadScript('owl-carousel', 'assets/js/owl.carousel.min.js')\n    .then(data => {\n      console.log('script loaded ', data);\n    }).catch(error => console.log(error));\n  }\n\n  getAlbums(){  \n    this.productService.getProducts()\n    .subscribe(\n      res => {\n        this.albums = res;\n      },\n      err => console.error(err)\n    )\n  }\n  public loadScript(id: string, url: string) {\n      return new Promise((resolve, reject) => {\n      if(id && document.getElementById(id)) {\n          resolve({id: id, loaded: true, status: 'Already Loaded'});\n      }\n      let body =  document.body;\n      let script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.innerHTML = '';\n      script.src = url;\n      script.id = id;\n      script.onload =() => {\n          resolve({id: id, loaded: true, status: 'Loaded'});\n      };\n      script.onerror = (error: any) => resolve({id: id, loaded: false, status: 'Loaded'});\n      script.async = true;\n      script.defer = true;\n      body.appendChild(script);\n  });\n  }\n\n  public removeScript(id: string) {\n      let script = document.getElementById(id);\n      if(script) {\n          script.remove();\n      } \n  }\n}\n"]},"metadata":{},"sourceType":"module"}